+++
title = "选项 条件 ★"
date = 2021-03-06T15:09:55+08:00
weight = 14
chapter = false
pre = "<b>3. </b>"
+++

## 选项 Choices

故事是由一段段剧情构成的，而 Ink 是由一个个**结点** `Knots` 组成的。

✨ 结点是组成 Ink 最基础的部分，由两个等号 `==` 加结点名称表示。

结点左侧至少要有两个等号；**结点的名称仅支持英文，不允许有空格，不允许有重复**。

例如，`=== london ===` 或 `== london` 都是正确的；`=== lon don ==` 或 `== 伦敦` 是错误的。

结点标记下的内容均属于这个结点，就像是故事的章节段落一样，放多少字由你自己决定。

结点的名称类似于前面的注释，不会展示给读者玩家。所以请放心清楚地给结点起名字吧，无需担心剧透的问题。

```
=== london === //这是节点
Phileas Fogg 先生早早从改革俱乐部回到了家，并乘坐了新型的蒸汽运输机！   
“领航,” 他喊到。 “我们去环游世界！”
```

Inky 会将已识别的语法标记变为蓝色，提醒你输入正确且便于区分。你在 Inky 中输入的结点变蓝了吗？

![knots](/images/learn/knots.png)

🤔 什么，你说你的 Inky 编辑器和例图不一样 —— 虽然结点变蓝了，但底部多了一行红色报错？预览区也没显示内容，只有个“End of story”？请先记住这两个问题继续学习，我们会在本页靠下的位置为你解答。

---

## 条件 Conditions

![divert](/images/learn/divert.png)

故事的每段剧情之间会有承接过渡，而 Ink 的结点之间则有**跳转** `divert` 串了起来。

✨ 跳转用跳转箭头（减号和右尖括号） `->` 表示，指向结点的名称。

如，`-> london` ，表示运行到这要跳转到 结点 london 继续运行。

跳转是自动完成的，不会告知读者玩家。如下面这段，虽然从开头跳转到了 结点 london ，但读者玩家看起来只像是换了一行而已。

```
伦敦，1872年
Phileas Fogg 先生的住所。

-> london //这是跳转

=== london === //这是节点
Phileas Fogg 先生早早从改革俱乐部回到了家，并乘坐了新型的蒸汽运输机！   
“领航，” 他喊到。 “我们去环游世界！”
```

Todo 例图

### 胶水 Glue

甚至跳转也可以连行都不换，看起来就像一句话那么自然连贯。

✨ **胶水** `glue` 可将文本强制连在一起，用左右两个尖括号 `<>` 表示。 

```
我们回家<> 
-> to_savile_row 

=== to_savile_row ===
去萨维尔街<>
-> as_fast_as_we_could

=== as_fast_as_we_could ===
尽可能的快
```

Todo 例图

原本跳转了三次该有三行内容，但在胶水的作用下只有一行了。

### 开始结束 END

让我们简单来了解下 Ink 的运行方式把，Ink 会从文件的顶部逐行向下运行，直到结束。

✨ 特别的，如果你的 Ink 开篇就是结点，那么你必须给它一个**初始跳转**。

如下面的 `-> top_knot` 告诉 Ink 从哪个结点开始。这在测试时也很有帮助，因为你可指定从任何一个结点开始运行。

✨ 而要结束时，你则要给一个 `-> END` 标记，告知 Ink 到这里就可以结束了。

如果 Ink 检测到你的故事运行到某处就没有下文了，却没有 `-> END` ，它会红色报错 `loose end` ，这可避免你遗漏某些分支的情。

TODO：折叠 loose end例图

```
-> top_knot //初始跳转

=== top_knot ===
Hello world!
    -> END
```

🤔 现在你知到结点那节 —— “底部多了一行红色报错，预览区也没显示内容”的原因了吗？

---

---

👉 下一节我们学习怎么与读者玩家互动 —— 选项。