+++
title = "可变选项 Varying Choices"
date = 2021-03-20T15:09:55+08:00
weight = 16
chapter = false
pre = "<b>1.7 </b>"
+++

## 1.7.1 一次性选项

**Choices can only be used once**

通常情况下，游戏中的每个选项只能选一次。如果你的故事中没有循环，你很难注意到这个特性。但如果你用了循环，很快你会注意到选项消失了……

```
=== find_help === // 结点：需求帮助
你拼命地在人群中寻找一张友好的脸。
* 戴帽子的女人[？] 粗暴地把你推到一边。 -> find_help // 跳转到结点：需求帮助
* 拿公文包的男人[？] 很厌恶的从旁边匆匆而过。 -> find_help // 跳转到结点：需求帮助
```

```
你拼命地在人群中寻找一张友好的脸。
1: 戴帽子的女人？
2: 拿公文包的男人？

▶ 1
戴帽子的女人粗暴地把你推到一边。
你拼命地在人群中寻找一张友好的脸。
1: 拿公文包的男人？

▶
```

---

到下一个循环，你就没剩下选项了。 

## 1.7.2 后备选项 Fallback choices

上面的例子停下了，因为到选项时报错“没有内容了”（ out of content）。

```
▶ 1
拿公文包的男人很厌恶的从旁边匆匆而过。
你拼命地在人群中寻找一张友好的脸。

Runtime error in tests/test.ink line 6: ran out of content. Do you need a '-> DONE' or '-> END'?
```

我们可通过一个“后备选择”解决问题。后备选项不会直接展示给玩家，但当没有其他选项可选时，则会自动选择。

后备选项是一个简单的“没有文本的选项”：

```
* -> out_of_options
```

并在轻度滥用语法的情况下，我们可以让选项有文本内容，用“选项后加箭头”：

```
* -> 
  姆德一直无法解释他怎么从燃烧的车厢里出来的。 -> season_2
```

再看看之前的例子：

```
=== find_help === // 结点：需求帮助
你拼命地在人群中寻找一张友好的脸。
* 戴帽子的女人[？] 粗暴地把你推到一边。 -> find_help // 跳转到结点：需求帮助
* 拿公文包的男人[？] 很厌恶的从旁边匆匆而过。 -> find_help // 跳转到结点：需求帮助
  
 * ->  // ✨ 后备选项
    但一切都太迟了：你倒在站台上。一切都结束了。
    -> END // ✨ 故事线到此结束
```

```
你拼命地在人群中寻找一张友好的脸。
1: 戴帽子的女人？
2: 拿公文包的男人？

▶ 1
戴帽子的女人粗暴地把你推到一边。
你拼命地在人群中寻找一张友好的脸。
1: 拿公文包的男人？

▶ 1
拿公文包的男人很厌恶的从旁边匆匆而过。
你拼命地在人群中寻找一张友好的脸。
但一切都太迟了：你倒在站台上。一切都结束了。
```

---

## 1.7.3 固定选项 Sticky choices

当然，一次性有时不止我们想要的，因此我们有另一种选项：固定选项。固定选项用加号标记 `+` ，不会因选择而被用尽。

```
=== homers_couch === // 结点：霍默沙发
+ [再吃个甜甜圈] // ✨ 固定选项
  你又吃了一个甜甜圈。 -> homers_couch // 跳转到结点：霍默沙发
* [从沙发起身] 
  你挣扎着离开了沙发，去拯救世界。
    -> END
```
后备选项也可用固定选项。

```
=== conversation_loop // 结点：循环对话
* [聊天气] -> chat_weather 
* [聊孩子] -> chat_children 
+ -> sit_in_silence_again // ✨ 固定选项 & 固定选项
```